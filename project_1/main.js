//for now global in future it will be from DB
let count = 1;
document.getElementById("btn").addEventListener("click", () => {
  const data = {
    data1: [{ width: 200, fill: "darkslateblue", value: 2.0 }],
    data2: [{ width: 150, fill: "darkgreen", value: 1.5 }],
    data3: [{ width: 50, fill: "#770e96", value: 0.5 }],
    data4: [{ width: 350, fill: "blue", value: 3.5 }],
  };
  const chartCanvas = d3.select("#clickTest");
  const rect = chartCanvas.select("rect");
  // test and loop trhough data...this is the only way to pass data to one rect
  switch (count) {
    case 1:
      rect
        .data(data.data1)
        .attr("width", (d) => {
          return d.width;
        })
        .attr("fill", (d) => {
          return d.fill;
        });
      count++;
      break;
    case 2:
      rect
        .data(data.data2)
        .attr("width", (d) => {
          return d.width;
        })
        .attr("fill", (d) => {
          return d.fill;
        });
      count++;
      break;
    case 3:
      rect
        .data(data.data3)
        .attr("width", (d) => {
          return d.width;
        })
        .attr("fill", (d) => {
          return d.fill;
        });
      count++;
      break;
    case 4:
      rect
        .data(data.data4)
        .attr("width", (d) => {
          return d.width;
        })
        .attr("fill", (d) => {
          return d.fill;
        });
      count++;
      break;
    default:
      rect.attr("width", 100).attr("height", 50).attr("fill", "darkslateblue");
      count = 1;
      break;
  }
});

const fillStartSvg = () => {
  //used this function just for test reasons
  const startCanvas = d3
    .select("#start")
    .attr("height", 600)
    .attr("width", 500);
  console.log(startCanvas);
  //create a group
  const group = startCanvas.append("g");

  //create shapes
  const circle = group.append("circle");
  circle.attr("cx", 150).attr("cy", 150).attr("r", 50).attr("fill", "cyan");
  const rect = group.append("rect");
  rect
    .attr("x", 250)
    .attr("y", 250)
    .attr("width", 50)
    .attr("height", 50)
    .attr("fill", "darkgray");
  //create text to overlay shapes
  const text = startCanvas.append("text");
  text
    .attr("fill", "darkblue")
    .attr("x", 50)
    .attr("y", 50)
    .text("Hello D3 SVG world")
    .style("font-family", "Arial")
    .style("font-size", "25px");
};

const clickDemo = () => {
  const chartCanvas = d3
    .select("#clickTest")
    .attr("height", 600)
    .attr("width", 500);
  const rect = chartCanvas.select("rect");
  rect.attr("width", 100).attr("height", 50).attr("fill", "darkslateblue");
  const text = chartCanvas.append("text");
  text
    .attr("fill", "darkblue")
    .attr("x", 0)
    .attr("y", 100)
    .text("Change width based on data")
    .style("font-family", "Arial")
    .style("font-size", "25px");
};



const barChart = () => {
      const svg = d3.select("#barChart") ;
      const yScale = d3.scaleLinear().domain([0,1000]).range([0,500]);
      console.log(yScale(500));

    d3.json("barData.json").then( res => {
        const rects =  svg.selectAll("rect").data(res);
        console.log(rects);
        rects.enter().append("rect")
          .attr("width", 25)
          .attr("x", d=>{
            return 50 + d.distance ;
          })
          .attr("y", 0)
          .attr("height", (d) =>{
             return yScale(d.height) ;
          }).attr("fill",(d) => {
             return d.fill;
          }) 
    }); 
   
}

const Testing = () => {
// hackerRank answer 
let data = [
  { "n" : 955, "k": 236},  
  { "n":  132, "k": 107 },
  {"n" :178 , "k" :104  },
  {"n" :394 , "k" : 378  },
  {"n" :159 , "k" :117  },
  {"n" :928 , "k" :443  },
  {"n" :250 , "k" :146 },
  {"n" :730  , "k" :468 },
  {"n" :601  , "k" : 278 },
  {"n" : 535 , "k" :449 },
  {"n" :293  , "k" :109  },
  {"n" :239 , "k" :87  },
  {"n" :559 , "k" :  168 },
  {"n" :601 , "k" :435 },
  {"n" : 199 , "k" :41 },
  {"n" :297 , "k" :50 },
  {"n" :407 , "k" :143 },
  {"n" :107 , "k" :33  },
  {"n":227, "k" :39},
  {"n":674, "k":86},   
  {"n":153, "k": 134},   
  {"n":302, "k":53},   
  {"n":823, "k":436},   
  {"n":532, "k":125},   
  {"n":149 , "k":86},   
  {"n":140 , "k":133},   
  {"n":887, "k":166},   
  {"n":646 , "k":496},   
  {"n":481, "k": 208},   
  {"n":308, "k":190},   
  {"n":467, "k":452},   
  {"n":411, "k":130},   
  {"n":835, "k":88},   
  {"n":412 , "k":192},   
  {"n":174, "k":123},   
  {"n":848, "k": 390},   
  {"n":435 , "k":169},   
  {"n":286, "k":50},   
  {"n":906, "k":806},   
  {"n":203, "k":148},   
 {"n":145, "k":64},   
 {"n":604, "k":358},   
  {"n":217, "k":175},   
  {"n":983, "k":977},   
  {"n":979, "k":290},
  {"n":748, "k":134},   
  {"n":974, "k":260},   
  {"n":773, "k": 681},   
  {"n":563, "k": 130},   
  {"n":136, "k":25},   
  {"n":591, "k":397},   
  {"n":174, "k":6},   
  {"n":552, "k":32},   
  {"n":985, "k":66},   
  {"n":118, "k":117},   
  {"n":627, "k":308},   
  {"n":117 , "k":8},   
  {"n":138, "k":90},   
  {"n":843, "k":451},   
  {"n":725, "k":59},   
  {"n":787, "k":334},   
  {"n":825, "k":22},   
  {"n":516, "k":362},   
  {"n":148, "k": 30},   
  {"n":663, "k":632},   
  {"n":555 , "k":108},   
  {"n":676, "k":555},   
  {"n":301, "k":118},   
  {"n":122, "k":71},   
  {"n":365, "k":261},   
  {"n":253, "k":212},   
  {"n":300, "k":212},   
  {"n":134, "k":29},   
  {"n":560, "k":275},   
  {"n":784, "k":631},  
  {"n": 401, "k": 364},
{"n":148 ,"k":132},
{"n": 333, "k": 196 },
{ "n": 502 ,"k": 356 },
{ "n": 850, "k": 580},
{"n": 759 ,"k": 689},
{"n": 719, "k": 390},
{"n": 245, "k": 159},
{"n": 421 ,"k": 186},
{ "n": 224, "k": 161},
{"n": 132 ,"k": 46},
{"n": 299, "k": 57},
{"n": 600, "k": 223},
{"n": 140, "k": 26},
{"n": 634, "k": 192},
{"n": 942 ,"k": 258},
{"n": 131, "k": 57},
{"n": 763, "k": 188},
{"n": 156, "k": 4},
{"n": 780, "k": 376},
{"n": 928, "k": 619},
{"n": 150, "k": 123},
{"n": 164, "k": 152},
{"n": 866, "k": 159},
{"n": 676, "k": 223},
{"n": 840, "k": 649},
{"n": 220, "k": 185},
{"n": 199, "k": 67},
{"n": 712, "k": 704},
{"n": 401, "k": 240},
{"n": 291, "k": 259},
{"n": 291, "k": 274},
{"n": 449, "k": 107},
{"n": 392, "k": 234},
{"n": 130, "k": 51},
{"n": 142, "k": 10},
{"n": 660, "k": 530},
{"n": 159, "k": 2},
{"n": 198, "k": 85},
{"n": 882, "k": 380},
{"n": 155, "k": 33},
{"n": 214, "k": 86},
{"n": 686, "k": 476},
{"n": 430, "k": 127},
{"n": 841, "k": 24},
{"n": 339, "k": 11},
{"n": 982, "k": 684},
{"n": 425, "k": 125},
{"n": 279, "k": 137},
{"n": 294, "k": 9},
{"n": 423, "k": 379},
{"n": 860, "k": 723},
{"n": 425, "k": 339},
{"n": 426, "k": 353},
{"n": 218, "k": 145},
{"n": 859, "k": 302},
{"n": 873, "k": 867},
{"n": 815, "k": 192},
{"n": 469, "k": 374},
{"n": 110, "k": 16},
{"n": 993, "k": 703},
{"n": 212, "k": 211},
{"n": 139, "k": 70},
{"n": 624, "k": 318},
{"n": 151, "k": 34},
{"n": 343, "k": 182},
{"n": 779, "k": 401},
{"n": 941, "k": 720},
{"n": 663, "k": 301},
{"n": 841, "k": 348},
{"n": 562, "k": 186},
{"n": 599, "k": 162},
{"n": 737, "k": 525},
{"n": 162, "k": 64},
{"n": 456, "k": 301},
{"n": 184, "k": 160},
{"n": 127, "k": 15},
{"n": 769, "k": 62},
{"n": 702, "k": 114},
{"n": 397, "k": 63},
{"n": 945, "k": 263},
{"n": 865, "k": 256},
{"n": 197, "k": 164},
{"n": 198, "k": 149},
{"n": 307, "k": 260},
{"n": 762, "k": 541},
{"n": 519, "k": 177},
{"n": 410, "k": 388},
{"n": 234, "k": 172},
{"n": 449, "k": 8},
{"n": 179, "k": 157},
{"n": 582, "k": 257},
{"n": 913, "k": 363},
{"n": 116, "k": 112},
{"n": 116, "k": 50},
{"n": 276, "k": 250},
{"n": 381, "k": 199},
{"n": 655, "k": 225},
{"n": 225, "k": 5},
{"n": 424, "k": 141},
{"n": 247, "k": 97},
{"n": 118, "k": 24},
{"n": 156, "k": 52},
{"n": 614, "k": 327},
{"n": 614, "k": 327},
{"n": 160, "k": 38},
{"n": 884, "k": 855},
{"n": 336, "k": 201},
{"n": 127, "k": 76},
{"n": 785, "k": 635},
{"n": 529, "k": 52},
{"n": 417, "k": 27},
{"n": 934, "k": 502},
{"n": 157, "k": 128},
{"n": 670, "k": 172},
{"n": 412, "k": 108},
{"n": 239, "k": 173},
{"n": 457, "k": 100},
{"n": 879, "k": 588},
{"n": 117, "k": 90},
{"n": 974, "k": 331},
{"n": 195, "k": 62},
{"n": 188, "k": 125},
{"n": 773, "k": 510},
{"n": 843, "k": 531},
{"n": 661, "k": 204},
{"n": 169, "k": 14},
{"n": 253, "k": 78},
{"n": 990, "k": 39},
{"n": 731, "k": 715},
{"n": 523, "k": 328},
{"n": 260, "k": 53},
{"n": 979, "k": 401},
{"n": 393, "k": 108},
{"n": 266, "k": 161},
{"n": 348, "k": 2},
{"n": 824, "k": 135},
{"n": 466, "k": 325},
{"n": 117, "k": 9},
{"n": 385, "k": 47},
{"n": 285, "k": 41},
{"n": 541, "k": 106},
{"n": 175, "k": 125},
{"n": 223, "k": 48},
{"n": 877, "k": 853},
{"n": 711, "k": 274},
{"n": 434, "k": 189},
{"n": 157, "k": 42},
{"n": 785, "k": 305},
{"n": 515, "k": 61},
{"n": 260, "k": 220},
{"n": 961, "k": 406},
{"n": 102, "k": 59},
{"n": 774, "k": 154},
{"n": 555, "k": 374},
{"n": 103, "k": 88},
{"n": 915, "k": 722},
{"n": 415, "k": 40},
{"n": 117, "k": 32},
{"n": 146, "k": 123},
{"n": 338, "k": 49},
{"n": 871, "k": 108},
{"n": 167, "k": 127},
{"n": 140, "k": 106},
{"n": 226, "k": 109},
{"n": 693, "k": 637},
{"n": 519, "k": 286},
{"n": 431, "k": 300},
{"n": 174, "k": 49},
{"n": 101, "k": 41},
{"n": 306, "k": 23},
{"n": 397, "k": 126},
{"n": 144, "k": 17},
{"n": 547, "k": 334},
{"n": 768, "k": 204},
{"n": 983, "k": 753},
{"n": 520, "k": 87},
{"n": 281, "k": 237},
{"n": 671, "k": 269},
{"n": 544, "k": 129},
{"n": 306, "k": 179},
{"n": 757, "k": 724},
{"n": 493, "k": 285},
{"n": 700, "k": 596},
{"n": 189, "k": 103},
{"n": 291, "k": 58},
{"n": 331, "k": 284},
{"n": 347, "k": 304},
{"n": 992, "k": 856},
{"n": 944, "k": 487},
{"n": 725, "k": 325},
{"n": 163, "k": 140},
{"n": 288, "k": 216},
{"n": 885, "k": 57},
{"n": 913, "k": 42},
{"n": 401, "k": 154},
{"n": 160, "k": 18},
{"n": 575, "k": 193},
{"n": 772, "k": 595},
{"n": 123, "k": 100},
{"n": 562, "k": 132},
{"n": 523, "k": 69},
{"n": 381, "k": 68},
{"n": 512, "k": 109},
{"n": 440, "k": 209},
{"n": 479, "k": 423},
{"n": 818, "k": 572},
{"n": 917, "k": 26},
{"n": 681, "k": 435},
{"n": 645, "k": 419},
{"n": 312, "k": 241},
{"n": 526, "k": 446},
{"n": 201, "k": 155},
{"n": 738, "k": 440},
{"n": 127, "k": 64},
{"n": 794, "k": 395},
{"n": 438, "k": 373},
{"n": 761, "k": 278},
{"n": 139, "k": 82},
{"n": 568, "k": 527},
{"n": 735, "k": 454},
{"n": 527, "k": 428},
{"n": 318, "k": 311},
{"n": 739, "k": 377},
{"n": 179, "k": 98},
{"n": 951, "k": 88},
{"n": 451, "k": 182},
{"n": 858, "k": 154},
{"n": 124, "k": 77},
{"n": 180, "k": 107},
{"n": 472, "k": 458},
{"n": 899, "k": 254},
{"n": 527, "k": 476},
{"n": 553, "k": 335},
{"n": 149, "k": 78},
{"n": 982, "k": 666},
{"n": 359, "k": 249},
{"n": 191, "k": 13},
{"n": 667, "k": 237},
{"n": 449, "k": 439},
{"n": 139, "k": 33},
{"n": 528, "k": 183},
{"n": 827, "k": 107},
{"n": 112, "k": 91},
{"n": 298, "k": 213},
{"n": 278, "k": 262},
{"n": 729, "k": 96},
{"n": 271, "k": 75},
{"n": 894, "k": 540},
{"n": 683, "k": 664},
{"n": 824, "k": 417},
{"n": 231, "k": 98},
{"n": 206, "k": 25},
{"n": 178, "k": 89},
{"n": 605, "k": 112},
{"n": 486, "k": 121},
{"n": 475, "k": 192},
{"n": 753, "k": 89},
{"n": 898, "k": 820},
{"n": 450, "k": 218},
{"n": 711, "k": 371},
{"n": 684, "k": 251},
{"n": 134, "k": 5},
{"n": 674, "k": 127},
{"n": 164, "k": 123},
{"n": 754, "k": 108},
{"n": 410, "k": 398},
{"n": 163, "k": 53},
{"n": 631, "k": 33},
{"n": 440, "k": 170},
{"n": 658, "k": 600},
{"n": 184, "k": 3},
{"n": 479, "k": 357},
{"n": 346, "k": 287},
{"n": 559, "k": 261},
{"n": 576, "k": 214},
{"n": 214, "k": 55},
{"n": 952, "k": 426},
{"n": 844, "k": 288},
{"n": 938, "k": 366},
{"n": 743, "k": 547},
{"n": 360, "k": 310},
{"n": 355, "k": 84},
{"n": 195, "k": 29},
{"n": 631, "k": 488},
{"n": 700, "k": 15},
{"n": 565, "k": 28},
{"n": 641, "k": 600},
{"n": 797, "k": 717},
{"n": 551, "k": 92},
{"n": 628, "k": 64},
{"n": 400, "k": 213},
{"n": 321, "k": 194},
{"n": 228, "k": 191},
{"n": 132, "k": 24},
{"n": 520, "k": 92},
{"n": 132, "k": 126},
{"n": 152, "k": 31},
{"n": 906, "k": 219},
{"n": 272, "k": 165},
{"n": 410, "k": 385},
{"n": 865, "k": 190},
{"n": 341, "k": 239},
{"n": 933, "k": 900},
{"n": 387, "k": 264},
{"n": 743, "k": 350},
{"n": 929, "k": 216},
{"n": 686, "k": 94},
{"n": 227, "k": 168},
{"n": 554, "k": 168},
{"n": 168, "k": 74},
{"n": 778, "k": 302},
{"n": 706, "k": 39},
{"n": 328, "k": 138},
{"n":792, "k": 432},
{"n": 372, "k": 2},
{"n": 589, "k": 477},
{"n": 436, "k": 241},
{"n": 419, "k": 346},
{"n": 184, "k": 105},
{"n": 946, "k": 214},
{"n": 769, "k": 267},
{"n": 745, "k": 411},
{"n": 108, "k": 82},
{"n": 506, "k": 228},
{"n": 203, "k": 191},
{"n": 104, "k": 81},
{"n": 391, "k": 44},
{"n": 343, "k": 196},
{"n": 824, "k": 775},
{"n": 253, "k": 175},
{"n": 912, "k": 214},
{"n": 911, "k": 274},
{"n": 924, "k": 458},
{"n": 250, "k": 143},
{"n": 875, "k": 494},
{"n": 966, "k": 336},
{"n": 698, "k": 249},
{"n": 370, "k": 128},
{"n": 578, "k": 20},
{"n": 517, "k": 89},
{"n": 625, "k": 67},
{"n": 180, "k": 62},
{"n": 561, "k": 97},
{"n": 113, "k": 70},
{"n": 837, "k": 61},
{"n": 390, "k": 99},
{"n": 970, "k": 687},
{"n": 584, "k": 284},
{"n": 476, "k": 198},
{"n": 819, "k": 284},
{"n": 106, "k": 44},
{"n": 966, "k": 889},
{"n": 375, "k": 239},
{"n": 635, "k": 118},
{"n": 174, "k": 96},
{"n": 340, "k": 185},
{"n": 127, "k": 67},
{"n": 859, "k": 784},
{"n": 865, "k": 811},
{"n": 334, "k": 266},
{"n": 698, "k": 438},
{"n": 339, "k": 330},
{"n": 281, "k": 234},
{"n": 826, "k": 275},
{"n": 968, "k": 774},
{"n": 750, "k": 87},
{"n": 277, "k": 2},
{"n": 237, "k": 209},
{"n": 750, "k": 266},
{"n": 196, "k": 56},
{"n": 590, "k": 179},
{"n": 524, "k": 384},
{"n": 240, "k": 24},
{"n": 918, "k": 155},
{"n": 666, "k": 256},
{"n": 470, "k": 383},
{"n": 106, "k": 73},
{"n": 908, "k": 536},
{"n": 147, "k": 116},
{"n": 595, "k": 482},
{"n": 744, "k": 100},
{"n": 178, "k": 28},
{"n": 699, "k": 128},
{"n": 189, "k": 53},
{"n": 872, "k": 349},
{"n": 988, "k": 575},
{"n": 989, "k": 970},
{"n": 123, "k": 28},
{"n": 924, "k": 222},
{"n": 422, "k": 136},
{"n": 347, "k": 131},
{"n": 648, "k": 293},
{"n": 476, "k": 386},
{"n": 777, "k": 380},
{"n": 633, "k": 129},
{"n": 445, "k": 53},
{"n": 202, "k": 63},
{"n": 188, "k": 75},
{"n": 225, "k": 147},
{"n": 961, "k": 896},
{"n": 123, "k": 122},
{"n": 187, "k": 178},
{"n": 838, "k": 650},
{"n": 607, "k": 306},
{"n": 244, "k": 99},
{"n": 191, "k": 55},
{"n": 634, "k": 349},
{"n": 787, "k": 599},
{"n": 303, "k": 221},
{"n": 862, "k": 543},
{"n": 426, "k": 162},
{"n": 908, "k": 173},
{"n": 559, "k": 525},
{"n": 707, "k": 406},
{"n": 130, "k": 61},
{"n": 548, "k": 533},
{"n": 459, "k": 155},
{"n": 435, "k": 378},
{"n": 653, "k": 279},
{"n": 114, "k": 9},
{"n": 131, "k": 7},
{"n": 393, "k": 347},
{"n": 162, "k": 45},
{"n": 844, "k": 813},
{"n": 562, "k": 522},
{"n": 731, "k": 328},
{"n": 630, "k": 612},
{"n": 487, "k": 434},
{"n": 398, "k": 304},
{"n": 157, "k": 89},
{"n": 583, "k": 329},
{"n": 947, "k": 566},
{"n": 979, "k": 594},
{"n": 190, "k": 27},
{"n": 359, "k": 198},
{"n": 969, "k": 231},
{"n": 468, "k": 422},
{"n": 413, "k": 76},
{"n": 998, "k": 80},
{"n": 443, "k": 153},
{"n": 635, "k": 282},
{"n": 843, "k": 744},
{"n": 560, "k": 349},
{"n": 272, "k": 150},
{"n": 905, "k": 714},
{"n": 176, "k": 126},
{"n": 323, "k": 147},
{"n": 291, "k": 124},
{"n": 799, "k": 665},
{"n": 488, "k": 392},
{"n": 953, "k": 409},
{"n": 533, "k": 365},
{"n": 680, "k": 259},
{"n": 815, "k": 556},
{"n": 598, "k": 209},
{"n": 411, "k": 258},
{"n": 755, "k": 72},
{"n": 422, "k": 244},
{"n": 845, "k": 687},
{"n": 846, "k": 21},
{"n": 272, "k": 29},
{"n": 693, "k": 537},
{"n": 881, "k": 236},
{"n": 154, "k": 35},
{"n": 197, "k": 3},
{"n": 151, "k": 55},
{"n": 663, "k": 346},
{"n": 685, "k": 252},
{"n": 603, "k": 287},
{"n": 114, "k": 29},
{"n": 884, "k": 391},
{"n": 110, "k": 8},
{"n": 107, "k": 54},
{"n": 159, "k": 101},
{"n": 669, "k": 517},
{"n": 842, "k": 109},
{"n": 568, "k": 332},
{"n": 503, "k": 51},
{"n": 114, "k": 7},
{"n": 605, "k": 35},
{"n": 387, "k": 246},
{"n": 387, "k": 130},
{"n": 167, "k": 47},
{"n": 486, "k": 307},
{"n": 538, "k": 345},
{"n": 177, "k": 176},
{"n": 732, "k": 309},
{"n": 771, "k": 221},
{"n": 146, "k": 30},
{"n": 264, "k": 3},
{"n": 114, "k": 79},
{"n": 818, "k": 633},
{"n": 215, "k": 133},
{"n": 191, "k": 151},
{"n": 180, "k": 170},
{"n": 936, "k": 814},
{"n": 396, "k": 7},
{"n": 311, "k": 3},
{"n": 737, "k": 210},
{"n": 512, "k": 440},
{"n": 296, "k": 25},
{"n": 723, "k": 356},
{"n": 353, "k": 171},
{"n": 610, "k": 316},
{"n": 383, "k": 2},
{"n": 132, "k": 61},
{"n": 457, "k": 210},
{"n": 752, "k": 678},
{"n": 766, "k": 301},
{"n": 168, "k": 53},
{"n": 793, "k": 753},
{"n": 487, "k": 199},
{"n": 422, "k": 41},
{"n": 370, "k": 306},
{"n": 857, "k": 435},
{"n": 362, "k": 31},
{"n": 462, "k": 384},
{"n": 727, "k": 648},
{"n": 963, "k": 812},
{"n": 103, "k": 6},
{"n": 336, "k": 183},
{"n": 188, "k": 91},
{"n": 136, "k": 16},
{"n": 137, "k": 9},
{"n": 343, "k": 257},
{"n": 138, "k": 119},
{"n": 683, "k": 570},
{"n": 706, "k": 55},
{"n": 877, "k": 700},
{"n": 175, "k": 102},
{"n": 280, "k": 2},
{"n": 976, "k": 794},
{"n": 613, "k": 473},
{"n": 189, "k": 119},
{"n": 376, "k": 26},
{"n": 497, "k": 69},
{"n": 976, "k": 899},
{"n": 890, "k": 197},
{"n": 925, "k": 388},
{"n": 165, "k": 22},
{"n": 142, "k": 109},
{"n": 626, "k": 2},
{"n": 316, "k": 127},
{"n": 101, "k": 29},
{"n": 473, "k": 361},
{"n": 779, "k": 540},
{"n": 693, "k": 174},
{"n": 566, "k": 44},
{"n": 182, "k": 8},
{"n": 829, "k": 191},
{"n": 261, "k": 98},
{"n": 670, "k": 529},
{"n": 603, "k": 190},
{"n": 128, "k": 60},
{"n": 663, "k": 176},
{"n": 717, "k": 438},
{"n": 439, "k": 139},
{"n": 666, "k": 98},
{"n": 664, "k": 337},
{"n": 166, "k": 16},
{"n": 738, "k": 411},
{"n": 287, "k": 75},
{"n": 773, "k": 523},
{"n": 547, "k": 523},
{"n": 996, "k": 621},
{"n": 524, "k": 12},
{"n": 406, "k": 30},
{"n": 999, "k": 737},
{"n": 841, "k": 91},
{"n": 600, "k": 323},
{"n": 799, "k": 499},
{"n": 376, "k": 61},
{"n": 268, "k": 148},
{"n": 358, "k": 162},
{"n": 838, "k": 565},
{"n": 178, "k": 39},
{"n": 149, "k": 38},
{"n": 164, "k": 76},
{"n": 933, "k": 309},
{"n": 636, "k": 134},
{"n": 977, "k": 482},
{"n": 943, "k": 556},
{"n": 325, "k": 148},
{"n": 571, "k": 125},
{"n": 876, "k": 501},
{"n": 530, "k": 490},
{"n": 192, "k": 70},
{"n": 724, "k": 604},
{"n": 212, "k": 37},
{"n": 586, "k": 466},
{"n": 300, "k": 148},
{"n": 179, "k": 120},
{"n": 116, "k": 114},
{"n": 934, "k": 786},
{"n": 509, "k": 15},
{"n": 120, "k": 92},
{"n": 670, "k": 617},
{"n": 575, "k": 435},
{"n": 747, "k": 645},
{"n": 949, "k": 890},
{"n": 179, "k": 77},
{"n": 959, "k": 77},
{"n": 904, "k": 291},
{"n": 867, "k": 14},
{"n": 722, "k": 370},
{"n": 170, "k": 112},
{"n": 151, "k": 114},
{"n": 654, "k": 274},
{"n": 521, "k": 228},
{"n": 679, "k": 341},
{"n": 487, "k": 399},
{"n": 436, "k": 233},
{"n": 659, "k": 533},
{"n": 284, "k": 136},
{"n": 618, "k": 19},
{"n": 503, "k": 433},
{"n": 876, "k": 231},
{"n": 391, "k": 104},
{"n": 234, "k": 24},
{"n": 871, "k": 387},
{"n": 373, "k": 31},
{"n": 596, "k": 512},
{"n": 867, "k": 79},
{"n": 654, "k": 323},
{"n": 711, "k": 184},
{"n": 261, "k": 142},
{"n": 273, "k": 95},
{"n": 874, "k": 131},
{"n": 140, "k": 100},
{"n": 123, "k": 30},
{"n": 527, "k": 198},
{"n": 740, "k": 573},
{"n": 688, "k": 389},
{"n": 119, "k": 87},
{"n": 881, "k": 612},
{"n": 594, "k": 85},
{"n": 984, "k": 692},
{"n": 110, "k": 18},
{"n": 839, "k": 78},
{"n": 584, "k": 169},
{"n": 152, "k": 118},
{"n": 149, "k": 140},
{"n": 426, "k": 232},
{"n": 402, "k": 136},
{"n": 752, "k": 538},
{"n": 729, "k": 577},
{"n": 355, "k": 225},
{"n": 871, "k": 498},
{"n": 652, "k": 651},
{"n": 362, "k": 158},
{"n": 417, "k": 235},
{"n": 474, "k": 11},
{"n": 292, "k": 103},
{"n": 409, "k": 257},
{"n": 256, "k": 53},
{"n": 780, "k": 204},
{"n": 160, "k": 141},
{"n": 795, "k": 352},
{"n": 326, "k": 177},
{"n": 173, "k": 2},
{"n": 125, "k": 121},
{"n": 798, "k": 548},
{"n": 567, "k": 492},
{"n": 788, "k": 637},
{"n": 176, "k": 145},
{"n": 645, "k": 181},
{"n": 971, "k": 141},
{"n": 309, "k": 181},
{"n": 605, "k": 83},
{"n": 177, "k": 131},
{"n": 576, "k": 424},
{"n": 522, "k": 134},
{"n": 455, "k": 449},
{"n": 134, "k": 18},
{"n": 244, "k": 201},
{"n": 173, "k": 5},
{"n": 149, "k": 68},
{"n": 876, "k": 225},
{"n": 671, "k": 650},
{"n": 360, "k": 38},
{"n": 876, "k": 453},
{"n": 465, "k": 77},
{"n": 123, "k": 87},
{"n": 594, "k": 432},
{"n": 552, "k": 34},
{"n": 617, "k": 330},
{"n": 650, "k": 144},
{"n": 760, "k": 145},
{"n": 291, "k": 75},
{"n": 150, "k": 71},
{"n": 804, "k": 90},
{"n": 561, "k": 187},
{"n": 917, "k": 646},
{"n": 960, "k": 333},
{"n": 601, "k": 108},
{"n": 809, "k": 17},
{"n": 478, "k": 83},
{"n": 135, "k": 41},
{"n": 181, "k": 29},
{"n": 823, "k": 377},
{"n": 270, "k": 164},
{"n": 302, "k": 147},
{"n": 845, "k": 613},
{"n": 864, "k": 290},
{"n": 565, "k": 194},
{"n": 290, "k": 5},
{"n": 956, "k": 896},
{"n": 344, "k": 211},
{"n": 155, "k": 102},
{"n": 406, "k": 71},
{"n": 352, "k": 151},
{"n": 378, "k": 281},
{"n": 317, "k": 268},
{"n": 759, "k": 17},
{"n": 259, "k": 184},
{"n": 570, "k": 226},
{"n": 326, "k": 39},
{"n": 797, "k": 604},
{"n": 446, "k": 352},
{"n": 367, "k": 94},
{"n": 842, "k": 725},
{"n": 827, "k": 548},
{"n": 116, "k": 91},
{"n": 758, "k": 297},
{"n": 545, "k": 141},
{"n": 180, "k": 168},
{"n": 885, "k": 533},
{"n": 940, "k": 810},
{"n": 735, "k": 150},
{"n": 775, "k": 294},
{"n": 855, "k": 666},
{"n": 854, "k": 749},
{"n": 872, "k": 735},
{"n": 787, "k": 748},
{"n": 228, "k": 164},
{"n": 608, "k": 197},
{"n": 114, "k": 11},
{"n": 645, "k": 84},
{"n": 233, "k": 150},
{"n": 723, "k": 64},
{"n": 532, "k": 293},
{"n": 626, "k": 603},
{"n": 778, "k": 180},
{"n": 392, "k": 291},
{"n": 151, "k": 79},
{"n": 827, "k": 303},
{"n": 192, "k": 6},
{"n": 152, "k": 34},
{"n": 319, "k": 44},
{"n": 717, "k": 309},
{"n": 863, "k": 675},
{"n": 217, "k": 7},
{"n": 126, "k": 36},
{"n": 538, "k": 514},
{"n": 729, "k": 428},
{"n": 903, "k": 501},
{"n": 199, "k": 115},
{"n": 153, "k": 68},
{"n": 959, "k": 327},
{"n": 939, "k": 461},
{"n": 754, "k": 538},
{"n": 906, "k": 153},
{"n": 842, "k": 326},
{"n": 113, "k": 32},
{"n": 851, "k": 282},
{"n": 507, "k": 464},
{"n": 944, "k": 898},
{"n": 759, "k": 743},
{"n": 600, "k": 2},
{"n": 987, "k": 465},
{"n": 521, "k": 474},
{"n": 663, "k": 521},
{"n": 494, "k": 171},
{"n": 441, "k": 240},
{"n": 227, "k": 101},
{"n": 451, "k": 281},
{"n": 522, "k": 410},
{"n": 870, "k": 749},
{"n": 272, "k": 35},
{"n": 471, "k": 15},
{"n": 529, "k": 493},
{"n": 393, "k": 52},
{"n": 969, "k": 919},
{"n": 945, "k": 423},
{"n": 663, "k": 78},
{"n": 457, "k": 259},
{"n": 196, "k": 87},
{"n": 105, "k": 89},
{"n": 869, "k": 829},
{"n": 105, "k": 71},
{"n": 178, "k": 133},
{"n": 185, "k": 112},
{"n": 140, "k": 104},
{"n": 651, "k": 43},
{"n": 253, "k": 171},
{"n": 930, "k": 489},
{"n": 814, "k": 759},
{"n": 534, "k": 374},
{"n": 386, "k": 376},
{"n": 983, "k": 896},
{"n": 538, "k": 495},
{"n": 150, "k": 22},
{"n": 974, "k": 826},
{"n": 728, "k": 554},
{"n": 899, "k": 795},
{"n": 702, "k": 465},
{"n": 212, "k": 15},
{"n": 113, "k": 17},
{"n": 828, "k": 290},
{"n": 632, "k": 494},
{"n": 100, "k": 17},
{"n": 524, "k": 137},
{"n": 586, "k": 116},
{"n": 225, "k": 56},
{"n": 545, "k": 364},
{"n": 267, "k": 168},
{"n": 606, "k": 363},
{"n": 285, "k": 260},
{"n": 223, "k": 145},
{"n": 149, "k": 21},
{"n": 720, "k": 415},
{"n": 682, "k": 598},
{"n": 937, "k": 274},
{"n": 743, "k": 511},
{"n": 751, "k": 650},
{"n": 223, "k": 184},
{"n": 247, "k": 118},
{"n": 459, "k": 125},
{"n": 479, "k": 374},
{"n": 117, "k": 5},
{"n": 814, "k": 341},
{"n": 961, "k": 274},
{"n": 620, "k": 74},
{"n": 145, "k": 56},
{"n": 588, "k": 379},
{"n": 634, "k": 268},
{"n": 612, "k": 501},
{"n": 987, "k": 697},
{"n": 286, "k": 116},
{"n": 596, "k": 467},
{"n": 756, "k": 67},
{"n": 273, "k": 145},
{"n": 103, "k": 100},
{"n": 918, "k": 596},
{"n": 517, "k": 218},
{"n": 954, "k": 837},
{"n": 248, "k": 200},
{"n": 829, "k": 711},
{"n": 423, "k": 166},
{"n": 581, "k": 124},
{"n": 887, "k": 415},
{"n": 601, "k": 378},
{"n": 531, "k": 8},
{"n": 645, "k": 387},
{"n": 829, "k": 569},
{"n": 561, "k": 306},
{"n": 945, "k": 897},
{"n": 467, "k": 450},
{"n": 577, "k": 282},
{"n": 708, "k": 473},
{"n": 996, "k": 576},
{"n": 669, "k": 314},
{"n": 777, "k": 62},
{"n": 672, "k": 616},
{"n": 614, "k": 39},
{"n": 426, "k": 277},
{"n": 522, "k": 46},
{"n": 577, "k": 254},
{"n": 133, "k": 76},
{"n": 938, "k": 697},
{"n": 124, "k": 89},
{"n": 312, "k": 151},
{"n": 352, "k": 37},
{"n": 747, "k": 469},
{"n": 736, "k": 401},
{"n": 504, "k": 181},
{"n": 134, "k": 51},
{"n": 962, "k": 936},
{"n": 408, "k": 281},
{"n": 188, "k": 170},
{"n": 471, "k": 470},
{"n": 877, "k": 746},
{"n": 516, "k": 485},
{"n": 740, "k": 362},
{"n": 704, "k": 157},
{"n": 411, "k": 114},
{"n": 765, "k": 307},
{"n": 789, "k": 3},
{"n": 467, "k": 382},
{"n": 319, "k": 26},
{"n": 344, "k": 105},
{"n": 804, "k": 305},
{"n": 108, "k": 26},
{"n": 122, "k": 8},
{"n": 928, "k": 658},
{"n": 197, "k": 7},
{"n": 109, "k": 85},
{"n": 347, "k": 316},
{"n": 129, "k": 3},
{"n": 200, "k": 164},
{"n": 616, "k": 405},
{"n": 145, "k": 141},
{"n": 565, "k": 304},
{"n": 100, "k": 17},
{"n": 169, "k": 56},
{"n": 294, "k": 152},
{"n": 934, "k": 95},
{"n": 954, "k": 441},
{"n": 776, "k": 191},
{"n": 190, "k": 41},
{"n": 768, "k": 388},
{"n": 960, "k": 768},
{"n": 885, "k": 102},
{"n": 890, "k": 885},
{"n": 416, "k": 259},
{"n": 341, "k": 52},
{"n": 104, "k": 46},
{"n": 376, "k": 185}

]
 

let res = [
235,
106,
103,
377,
28,
116,
442,
145,
467,
277,
448,
108,
86,
167,
434,
40,
49,
142,
32,
38,
85,
133,
52,
435,
124,
85,
132,
165,
495,
207,
189,
451,
129,
87,
191,
122,
389,
168,
49,
805,
147,
63,
357,
174,
976,
289,
133,
259,
680,
129,
24,
396,
5,
31,
65,
116,
307,
7,
89,
450,
58,
333,
21,
361,
29,
631,
107,
554,
117,
70,
260,
211,
211,
28,
274,
630,
363,
131,
195,
355,
579,
688,
389,
158,
185,
160,
45,
56,
222,
25,
191,
257,
56,
187,
3,
375,
618,
122,
151,
158,
222,
648,
184,
66,
702,
239,
258,
273,
106,
233,
50,
9,
529,
1,
84,
379,
32,
85,
475,
126,
23,
10,
683,
124,
136,
8,
378,
722,
338,
352,
144,
301,
866,
191,
373,
15,
702,
210,
69,
317,
33,
181,
400,
719,
300,
347,
185,
161,
524,
63,
300,
158,
14,
61,
113,
62,
262,
255,
163,
148,
259,
540,
176,
387,
171,
7,
156,
256,
362,
110,
49,
249,
198,
224,
4,
140,
96,
23,
51,
326,
326,
37,
854,
200,
75,
634,
51,
26,
501,
126,
171,
107,
172,
99,
587,
89,
330,
61,
124,
509,
530,
203,
13,
77,
38,
714,
327,
52,
400,
107,
160,
1,
134,
324,
8,
46,
40,
105,
124,
47,
852,
273,
188,
41,
304,
60,
219,
405,
58,
153,
373,
87,
721,
39,
31,
122,
48,
107,
126,
105,
108,
636,
285,
299,
48,
40,
22,
125,
16,
333,
203,
752,
86,
236,
268,
128,
178,
723,
284,
595,
102,
57,
283,
303,
855,
486,
324,
139,
215,
56,
41,
153,
17,
192,
594,
99,
131,
68,
67,
108,
208,
422,
571,
25,
434,
418,
240,
445,
154,
439,
63,
394,
372,
277,
81,
526,
453,
427,
310,
376,
97,
87,
181,
153,
76,
106,
457,
253,
475,
334,
77,
665,
248,
12,
236,
438,
32,
182,
106,
90,
212,
261,
95,
74,
539,
663,
416,
97,
24,
88,
111,
120,
191,
88,
819,
217,
370,
250,
4,
126,
122,
107,
397,
52,
32,
169,
599,
2,
356,
286,
260,
213,
54,
425,
287,
365,
546,
309,
83,
28,
487,
14,
27,
599,
716,
91,
63,
212,
193,
190,
23,
91,
125,
30,
218,
164,
384,
189,
238,
899,
263,
349,
215,
93,
167,
167,
73,
301,
38,
137,
431,
1,
476,
240,
345,
104,
213,
266,
410,
81,
227,
190,
80,
43,
195,
774,
174,
213,
273,
457,
142,
493,
335,
248,
127,
19,
88,
66,
61,
96,
69,
60,
98,
686,
283,
197,
283,
43,
888,
238,
117,
95,
184,
66,
783,
810,
265,
437,
329,
233,
274,
773,
86,
1,
208,
265,
55,
178,
383,
23,
154,
255,
382,
72,
535,
115,
481,
99,
27,
127,
52,
348,
574,
969,
27,
221,
135,
130,
292,
385,
379,
128,
52,
62,
74,
146,
894,
121,
177,
649,
305,
98,
54,
348,
598,
220,
542,
161,
172,
524,
405,
60,
532,
154,
377,
278,
8,
6,
346,
44,
812,
521,
327,
611,
433,
303,
88,
328,
565,
593,
26,
197,
230,
421,
75,
79,
152,
281,
743,
348,
149,
713,
125,
146,
123,
664,
391,
408,
364,
258,
555,
208,
257,
71,
243,
686,
20,
28,
536,
235,
34,
2,
54,
345,
251,
286,
28,
390,
7,
53,
100,
516,
108,
331,
50,
6,
34,
245,
129,
46,
306,
344,
174,
308,
220,
29,
2,
78,
632,
132,
150,
169,
813,
6,
2,
209,
439,
24,
355,
170,
315,
1,
60,
209,
677,
300,
52,
752,
198,
40,
305,
434,
30,
382,
647,
811,
5,
182,
90,
15,
8,
256,
118,
569,
54,
699,
101,
1,
793,
472,
118,
25,
68,
898,
196,
387,
21,
108,
1,
126,
28,
360,
539,
173,
43,
7,
190,
97,
528,
189,
59,
175,
437,
138,
97,
336,
15,
410,
74,
522,
522,
620,
11,
29,
736,
90,
322,
498,
60,
147,
161,
564,
38,
37,
75,
308,
133,
481,
555,
147,
124,
500,
489,
69,
603,
36,
465,
147,
119,
113,
785,
14,
91,
616,
434,
644,
889,
76,
76,
290,
13,
369,
111,
113,
273,
227,
340,
12,
398,
232,
532,
135,
18,
432,
230,
103,
23,
386,
30,
510,
78,
322,
183,
141,
94,
130,
99,
29,
197,
572,
388,
86,
611,
84,
691,
17,
77,
168,
117,
139,
231,
135,
537,
576,
224,
497,
650,
157,
234,
10,
102,
256,
52,
203,
140,
351,
176,
1,
120,
547,
491,
636,
144,
180,
140,
180,
82,
130,
423,
133,
448,
17,
200,
4,
67,
224,
649,
37,
452,
76,
86,
431,
33,
329,
143,
144,
74,
70,
89,
186,
645,
332,
107,
16,
82,
40,
28,
376,
163,
146,
612,
289,
193,
4,
894,
210,
101,
70,
150,
280,
267,
16,
183,
225,
38,
603,
351,
93,
724,
547,
90,
296,
140,
167,
532,
809,
149,
293,
665,
748,
734,
747,
163,
196,
10,
83,
149,
63,
292,
602,
179,
290,
78,
302,
5,
33,
43,
308,
674,
6,
35,
513,
427,
500,
114,
67,
326,
460,
537,
152,
325,
31,
281,
463,
897,
742,
1,
464,
473,
520,
170,
239,
100,
280,
409,
748,
34,
14,
492,
51,
918,
422,
77,
258,
86,
88,
828,
70,
132,
111,
103,
42,
170,
488,
758,
373,
375,
894,
494,
21,
825,
553,
794,
464,
14,
16,
289,
493,
16,
136,
115,
55,
363,
167,
362,
259,
144,
20,
414,
597,
273,
510,
649,
183,
117,
124,
373,
4,
340,
273,
73,
55,
378,
267,
500,
696,
115,
466,
66,
144,
99,
595,
217,
836,
199,
710,
165,
123,
414,
377,
7,
386,
568,
305,
896,
449,
281,
472,
575,
313,
61,
615,
38,
276,
45,
253,
75,
696,
88,
150,
36,
468,
400,
180,
50,
935,
280,
169,
469,
745,
484,
361,
156,
113,
306,
2,
381,
25,
104,
304,
25,
7,
657,
6,
84,
315,
2,
163,
404,
140,
303,
16,
55,
151,
94,
440,
190,
40,
387,
766,
101,
884,
258,
51,
45,
184,
];
  for(let i = 0 ; i < data.length; i++){
    let ans = getMaxLessThanK(data[i].n , data[i].k);
    console.log(`ans: ${res[i]} returned: ${ans}`);
    console.log((res[i] === ans )? "true":"false" );
  }

}
const getMaxLessThanK= (n , k) => {
  let serise = []
  let max = 0;
  for(let i = 2 ; i <= n ; i++){
    serise.push(i)
  }
  let b = serise[0];
  serise = serise.slice(1);
  for(let a = 1 ; a <= n; a++ ){
      while(a < b){
        let bit = a&b;
        if( bit < k && bit >max  ){
          max = bit;
        }
        if( b+1 > n){
          b = serise[0];
          serise = serise.slice(1);
          break;
        }else{
          b = b+1
        } 
    }  
  }
  return max;
}
const deepdive = () =>{
  let serise = []
  let max = 0;
  let n = 10;
  let k = 8 ; 
  for(let i = 2 ; i <= n ; i++){
    serise.push(i)
  }
  let b = serise[0];
  serise = serise.slice(1);
  for(let a = 1 ; a <= n; a++ ){
      while(a < b){
        let bit = a&b;
        if( bit < k && bit >max  ){
          max = bit;
        }
        if( b+1 > n){
          b = serise[0];
          serise = serise.slice(1);
          break;
        }else{
          b = b+1
        } 
    }  
  }
console.log(max);
};

window.onload = () => {
  //  fillStartSvg();
  clickDemo();
  Testing();
  //deepdive();
  //barChart();
}
